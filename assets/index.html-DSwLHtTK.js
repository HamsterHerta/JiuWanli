import{a as s,c as e,d as a,o as t}from"./app-D0qwtjXA.js";const l={};function h(n,i){return t(),e("div",null,i[0]||(i[0]=[a(`<h2 id="git时光机" tabindex="-1"><a class="header-anchor" href="#git时光机"><span>Git时光机</span></a></h2><h3 id="版本回退" tabindex="-1"><a class="header-anchor" href="#版本回退"><span>版本回退</span></a></h3><h3 id="工作区和暂存区" tabindex="-1"><a class="header-anchor" href="#工作区和暂存区"><span>工作区和暂存区</span></a></h3><h3 id="撤销文件修改" tabindex="-1"><a class="header-anchor" href="#撤销文件修改"><span>撤销文件修改</span></a></h3><p><strong>1.文件仅在工作区修改，但并未提交到暂存区（即并没有add）</strong><br> 对于单个文件的撤销修改而言，使用下面方法。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> checkout</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">filenam</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">e</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>撤销工作区中所有文件的修改，则</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> checkout</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><mark>文件回到最近一次该文件git commit或git add时的状态。</mark></p><p><strong>2.文件在工作区和暂存区都有修改，但并未提交到版本库</strong><br> 此时文件仅add，没有commit。采取以下步骤来撤销修改：</p><div class="vp-steps"><ol><li>使用<code>git status</code>查看仓库状态</li><li>使用<code>git rm --cached &lt;filename&gt;</code>命令来放弃该文件的暂存</li><li>此时，再使用<code>git status</code>查看仓库状态，文件不被git追踪，并且它是修改的状态，没有提交到暂存区。</li><li>如果你之前已经commit了该文件，那么可以先：<code>git reset HEAD &lt;filename&gt;</code>让该文件回到工作区的状态。然后：<code>git checkout -- &lt;filename&gt;</code>即可。</li><li>如果你还没有commit过该文件，那么使用<code>git checkout -- &lt;filename&gt;</code>命令无法撤销修改。</li></ol></div><p><strong>3.文件在工作区、暂存区和版本库都有修改</strong><br> 对于单个文件的撤销修改而言，使用下面方法。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> reset</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --hard</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> HEAD</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">filenam</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">e</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> checkout</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">filenam</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">e</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料"><span>参考资料</span></a></h2><ol><li><a href="https://blog.csdn.net/qq_32907195/article/details/115333898" target="_blank" rel="noopener noreferrer">git撤销某个文件的修改</a></li><li><a href="https://liaoxuefeng.com/books/git/time-travel/restore/index.html" target="_blank" rel="noopener noreferrer">撤销修改</a></li></ol>`,15)]))}const d=s(l,[["render",h]]),k=JSON.parse('{"path":"/mem/q9ftbqf2/","title":"Git工作流","lang":"zh-CN","frontmatter":{"title":"Git工作流","createTime":"2025/12/07 20:09:27","permalink":"/mem/q9ftbqf2/"},"readingTime":{"minutes":1.23,"words":369},"git":{"createdTime":1768883954000,"updatedTime":1768883954000,"contributors":[{"name":"hamster","username":"hamster","email":"hamstergrace2021@gmail.com","commits":1,"avatar":"https://avatars.githubusercontent.com/hamster?v=4","url":"https://github.com/hamster"}]},"filePathRelative":"notes/mem/Git/02GitFlow.md","headers":[]}');export{d as comp,k as data};
